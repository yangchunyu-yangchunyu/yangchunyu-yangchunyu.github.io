<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>build this</title>
    <link href="/2021/12/07/bulidthis/"/>
    <url>/2021/12/07/bulidthis/</url>
    
    <content type="html"><![CDATA[<h1 id="github改用token登录后，使用GitHub-Hexo搭建技术博客，且部署到个人域名"><a href="#github改用token登录后，使用GitHub-Hexo搭建技术博客，且部署到个人域名" class="headerlink" title="github改用token登录后，使用GitHub + Hexo搭建技术博客，且部署到个人域名"></a>github改用token登录后，使用GitHub + Hexo搭建技术博客，且部署到个人域名</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>使用GitHub + Hexo可以快速搭建自己的技术博客，但其中会有各种各样的·=坑::stuck_out_tongue_closed_eyes:,尤其是21年8月13后，github不再支持用户名密码的方式验证了，需要使用人访问令牌token才能验证。</p><h2 id="安装node-js和git"><a href="#安装node-js和git" class="headerlink" title="安装node.js和git"></a>安装node.js和git</h2><p>Node.js官网：<a href="https://link.zhihu.com/?target=https://nodejs.org/zh-cn/">https://nodejs.org/zh-cn/</a> </p><p>git官网：<a href="https://link.zhihu.com/?target=https://git-scm.com/">https://git-scm.com/</a> 建议使用git bash来敲命令行。</p><p>网上教程很多，这里就不在赘述了。</p><h2 id="创建github仓库"><a href="#创建github仓库" class="headerlink" title="创建github仓库"></a>创建github仓库</h2><p>如果没有账号先创建一个。</p><p>登录后，点击右上角加号，点击New repository</p><p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传<br><img src="https://img-blog.csdnimg.cn/fd1e313b4b234972b061175311ee9332.png" alt="在这里插入图片描述"></p><p>设置代码库的名称为 ==yourname.github.io== ，注意yourname指的是你的github用户名，下面出现的yourname同理。</p><h2 id="下载并使用hexo"><a href="#下载并使用hexo" class="headerlink" title="下载并使用hexo"></a>下载并使用hexo</h2><p>在合适的地方新建一个文件夹，然后命令行cd到这个目录，输入以下命令</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs avrasm">npm install hexo-<span class="hljs-keyword">cli</span> -g<br></code></pre></td></tr></table></figure><p>如果访问太慢可以换成淘宝源，一般在第一步下载node的教程正红都会教如何换成淘宝源。</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs avrasm">npm install -g hexo-<span class="hljs-keyword">cli</span> --registry=https://registry.npm.taobao<span class="hljs-meta">.org</span><br></code></pre></td></tr></table></figure><p>初始化hexo</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs powershell">hexo init &lt;folder&gt;<br><span class="hljs-variable">$</span> <span class="hljs-built_in">cd</span> &lt;folder&gt;<br><span class="hljs-variable">$</span> npm install<br></code></pre></td></tr></table></figure><p><folder>是你博客项目的根目录。</p><p>新建完成后，指定文件夹的目录大概如下：（可能不完全相同不过没有什么问题）</p><figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sqf">.<br>├── <span class="hljs-variable">_config</span>.yml<br>├── package.json<br>├── scaffolds<br>├── source<br>|   ├── <span class="hljs-variable">_drafts</span><br>|   └── <span class="hljs-variable">_posts</span><br>└── themes<br></code></pre></td></tr></table></figure><p>generate命令生成静态文件</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs verilog">hexo <span class="hljs-keyword">generate</span><br></code></pre></td></tr></table></figure><p>serve命令启动本地服务器</p><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs axapta">hexo <span class="hljs-keyword">server</span><br></code></pre></td></tr></table></figure><p>默认情况下，访问网址 <a href="http://localhost:4000/%E5%8D%B3%E5%8F%AF%E7%9C%8B%E5%88%B0%E9%A1%B9%E7%9B%AE%EF%BC%8C%E5%A6%82%E6%9E%9C%E5%87%BA%E7%8E%B0%E7%AB%AF%E5%8F%A3%E8%A2%AB%E5%8D%A0%E7%94%A8%E3%80%82%E5%8F%AF%E4%BB%A5%E6%8D%A2%E6%88%90%E5%85%B6%E4%BB%96%E7%AB%AF%E5%8F%A3">http://localhost:4000/即可看到项目，如果出现端口被占用。可以换成其他端口</a></p><p><img src="https://img-blog.csdnimg.cn/0cf546c10e064cbeb2abbf3d128a63e1.png"></p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">hexo</span> server -p <span class="hljs-number">5000</span><br></code></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/2013b9b6f3044d8cadf5cbbbec41131d.png" alt="在这里插入图片描述"></p><h2 id="配置nexo主题"><a href="#配置nexo主题" class="headerlink" title="配置nexo主题"></a>配置nexo主题</h2><p>推荐<a href="https://github.com/fluid-dev/hexo-theme-fluid">fluid</a>主题，点击链接后可以看到详细安装教程。</p><h2 id="部署nexo1"><a href="#部署nexo1" class="headerlink" title="部署nexo1"></a>部署nexo1</h2><h3 id="git配置身份信息"><a href="#git配置身份信息" class="headerlink" title="git配置身份信息"></a>git配置身份信息</h3><p>打开git bash，输入</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs verilog">git <span class="hljs-keyword">config</span> --<span class="hljs-keyword">global</span> user<span class="hljs-variable">.name</span> <span class="hljs-string">&quot;yourname&quot;</span><br>git <span class="hljs-keyword">config</span> --<span class="hljs-keyword">global</span> user<span class="hljs-variable">.email</span> <span class="hljs-string">&quot;youremail&quot;</span><br></code></pre></td></tr></table></figure><p>在项目根目录下的_config.yml文件中，找到deploy，然后按照如下修改：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-attr">deploy:</span><br><span class="hljs-attr">type:</span> <span class="hljs-string">git</span><br><span class="hljs-attr">repo:</span> <span class="hljs-string">git@github.com:yourname/yourname.github.io.git</span><br><span class="hljs-attr">branch:</span> <span class="hljs-string">master</span><br></code></pre></td></tr></table></figure><h3 id="安装部署所用插件"><a href="#安装部署所用插件" class="headerlink" title="安装部署所用插件"></a>安装部署所用插件</h3><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">npm install hexo-deployer-git <span class="hljs-comment">--save</span><br></code></pre></td></tr></table></figure><h3 id="配置ssh"><a href="#配置ssh" class="headerlink" title="配置ssh"></a>配置ssh</h3><p>生成本机SSK key</p><p>git bash中输入</p><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs excel">ssh-keygen -<span class="hljs-built_in">t</span> rsa -C <span class="hljs-string">&quot;youremail&quot;</span><br></code></pre></td></tr></table></figure><p>之后不用管一直回车就行。</p><p>在C:\Users\用户名.ssh下找到 id_rsa.pub，用记事本打开（也可以用vscode或sublime这些轻量级软件打开）复制其中的内容</p><p>在github网页中点击github右上角头像，点击settings，在settings页面左边点击SSH and GPG keys</p><p><img src="https://img-blog.csdnimg.cn/5eb272cf3c2144ac8c223127d9032b10.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aaC6a2U,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p><p>然后点击<span color=green>绿色按钮 New SSH key</span></p><p><img src="https://img-blog.csdnimg.cn/a28511411cf345089dc1d11ae678c229.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aaC6a2U,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p><p>然后点击 Add SSH key，创建好之后大概是这样</p><p><img src="https://img-blog.csdnimg.cn/05821d3fa26e46ecb4d9294422061dc4.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aaC6a2U,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p><h2 id="生成令牌token"><a href="#生成令牌token" class="headerlink" title="生成令牌token"></a>生成令牌token</h2><p>在settings页面的左侧点击Developer settings</p><p><img src="https://img-blog.csdnimg.cn/f4e03bacd03c4fed97758ed5fb1f221b.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aaC6a2U,size_16,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p><p>点击Personal access tokens，点击generate new token</p><p><img src="https://img-blog.csdnimg.cn/0389b5fa6f0045b999b1d50711ab0c97.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aaC6a2U,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p><p>设置token信息</p><p><img src="https://img-blog.csdnimg.cn/7fae69f767f540d88de0d192f24c03d6.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aaC6a2U,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p><p>为了方便可以全部选上</p><p>点击Generate token生成令牌，生成的令牌一定要复制保存好，建议新建一个txt保存，这个token之后会用到。</p><h3 id="推送本地目录到github"><a href="#推送本地目录到github" class="headerlink" title="推送本地目录到github"></a>推送本地目录到github</h3><p>本地随便一个位置创建一个名为yourname.github.io的文件夹，右键git bash，依次属于下列命令</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">echo <span class="hljs-string">&quot;# yourname.github.io&quot;</span> &gt;&gt; <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">README</span>.</span></span>md<br>git init<br>git add <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">README</span>.</span></span>md<br>git commit -m <span class="hljs-string">&quot;first commit&quot;</span><br>git remote add origin https:<span class="hljs-comment">//github.com/yourname/yourname.github.io.git</span><br>git push -u origin master<br></code></pre></td></tr></table></figure><p>其中最后一天命令可能会因为网速限制出现超时，不要慌，再输入一次</p><p>如果没有异常，最后一条命令执行完后会有一个对话框提示你输入账号密码，</p><p>注意，这里要输入的不是你的账号和密码而是</p><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs gauss">账号：oauth2<br>密码:你刚刚生成的<span class="hljs-built_in">token</span><br></code></pre></td></tr></table></figure><p>输入完成后可能还会要求你再次输入一遍，输入内容依然是上面这个。</p><h2 id="部署nexo2"><a href="#部署nexo2" class="headerlink" title="部署nexo2"></a>部署nexo2</h2><p>回到配置nexo的命令行，输入</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs verilog">nexo clean<br>nexo <span class="hljs-keyword">generate</span><br>nexo deploy<br></code></pre></td></tr></table></figure><p>可能会出现连接超时的问题，重复上面操作即可。</p><h2 id="查看博客"><a href="#查看博客" class="headerlink" title="查看博客"></a>查看博客</h2><p>部署成功后，稍等一会儿即可在yourname.github.io中查看你的博客网站了。</p><p>这是我的<a href="https://yangchunyu-yangchunyu.github.io/%EF%BC%88%E5%9B%A0%E4%B8%BA%E6%88%91%E6%9C%80%E5%90%8E%E9%83%A8%E7%BD%B2%E5%9C%A8%E4%BA%86%E4%B8%AA%E4%BA%BA%E5%9F%9F%E5%90%8D%E4%B8%AD%EF%BC%8C%E6%89%80%E4%BB%A5%E9%93%BE%E6%8E%A5%E4%BC%9A%E9%87%8D%E5%AE%9A%E5%90%91%E5%88%B0http://ycydev.top/%EF%BC%89">https://yangchunyu-yangchunyu.github.io/（因为我最后部署在了个人域名中，所以链接会重定向到http://ycydev.top/）</a></p><h2 id="部署到个人域名"><a href="#部署到个人域名" class="headerlink" title="部署到个人域名"></a>部署到个人域名</h2><p>首先在**云上租一个个人域名，之后会有一些实名认证，需要花一些时间，步骤省略。</p><p>以阿里云为例，点击右上角控制台，点击“域名”，进入域名控制台</p><p><img src="https://img-blog.csdnimg.cn/c91282c89a884cfc9e574a8a1e7e86a4.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aaC6a2U,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p><p>点击解析</p><p><img src="https://img-blog.csdnimg.cn/c175c5d809a74657a531960698fb137a.png" alt="在这里插入图片描述"></p><p>点击添加记录</p><p><img src="https://img-blog.csdnimg.cn/f602183b15f74106a84ea01fc88fdf3c.png" alt="在这里插入图片描述"></p><p>需要添加两个记录，具体内容看下图，除了画红色的记录值之外，其他的照抄图片即可<br><img src="https://img-blog.csdnimg.cn/6b092a9579234d14a7cad8d0ac1f623b.png" alt="在这里插入图片描述"></p><p>一个的记录值是 yourname.github.io 也就是你的博客的域名，另一个的记录值是这个域名的ip地址，可以在命令行中应用ping命令查看</p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs autoit"><span class="hljs-built_in">ping</span> yourname.github.io<br></code></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/c275e7b0a6974171a04c46ed764fc9fb.png" alt="在这里插入图片描述"></p><p>创建 CNAME 文件</p><p>在hexo项目跟目录的 source 目录下面新建一个文件，取名为 CNAME (无后缀)，内容就是你购买的域名</p><p><img src="https://img-blog.csdnimg.cn/9a9544e052f74ac79521a4ac71f2cf1c.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aaC6a2U,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p><p>命令行输入</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs verilog">nexo <span class="hljs-keyword">generate</span><br>nexo deploy<br></code></pre></td></tr></table></figure><p>然后访问你买的域名，看能否成功访问。</p><p>如果不能成功访问，去github该项目的仓库，点击settings，找到Pages</p><p><img src="https://img-blog.csdnimg.cn/6e8519b7fb7343ba98cb76776eaf1f39.png" alt="在这里插入图片描述"></p><p>检查Custom domain处是否有自己买的域名，如果没有，手动填上，保存。</p><p><img src="https://img-blog.csdnimg.cn/644fd8f183674c5fb11c137b21980af9.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5aaC6a2U,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2021/12/07/hello-world/"/>
    <url>/2021/12/07/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
